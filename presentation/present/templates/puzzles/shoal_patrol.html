{% extends "puzzles/puzzle_layout.html" %}
{% import "/puzzle_macros.html" as puzzle_macros %}
{% set puzzle_title = puzzle.puzzleProperties.DisplayNameProperty.displayName %}

{% block title_block %}{{ puzzle_title }}{% endblock %}
{% block puzzle_name_block %}{{ puzzle_title }}{% endblock %}

{% block puzzle_head_block %}
<style>
  .puzzle-content .rules-image {
    display: block;
    margin: auto;
  }

  .puzzle-content .grid-image {
    display: block;
    margin-top: 20px;
  }
</style>
{% endblock %}

{% block puzzle_content_block %}
<p>These shoals are truly minefields! But do not worry, a squadron of mine countermeasures ships (shown next to each grid) is on patrol.</p>

<p>The clues above and left of each grid indicate the number of ship segments present in each row or column of the grid. The ships can be placed horizontally or vertically. No two ships can touch each other, not even diagonally.</p>

<p>All the ship segments lie on a closed loop which runs through the grid without touching itself, not even diagonally. (In other terms: No two cells on the loop may touch, even by a corner, unless they are actually directly connected along the loop.)</p>

<img class="rules-image" {{ img_src_for('puzzles/shoal_patrol/1.svg') }} >

<p>Each ship segment indicates the number of mines present in the 8 neighboring cells. There are no mines in the cells traversed by the loop. The total number of mines in each minefield is given.</p>

<p>You may find it important to note that not every cell enclosed by the loop contains a mine. However, it was such a scramble to protect the ships&rsquo; identities on this secret mission that something might have gone missing&hellip;</p>

<div><img class="grid-image" {{ img_src_for('puzzles/shoal_patrol/2.svg') }} ></div>
<div><img class="grid-image" {{ img_src_for('puzzles/shoal_patrol/3.svg') }} ></div>
<div><img class="grid-image" {{ img_src_for('puzzles/shoal_patrol/4.svg') }} ></div>
<div><img class="grid-image" {{ img_src_for('puzzles/shoal_patrol/5.svg') }} ></div>
<div><img class="grid-image" {{ img_src_for('puzzles/shoal_patrol/6.svg') }} ></div>
<div><img class="grid-image" {{ img_src_for('puzzles/shoal_patrol/7.svg') }} ></div>
<div><img class="grid-image" {{ img_src_for('puzzles/shoal_patrol/8.svg') }} ></div>
<div><img class="grid-image" {{ img_src_for('puzzles/shoal_patrol/9.svg') }} ></div>
{% endblock %}
